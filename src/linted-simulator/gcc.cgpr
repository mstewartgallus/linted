-- Copyright 2015 Steven Stewart-Gallus
--
-- Licensed under the Apache License, Version 2.0 (the "License");
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an "AS IS" BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
-- implied.  See the License for the specific language governing
-- permissions and limitations under the License.
configuration Project GCC is
  package Builder is
  end Builder;

  package Naming is
     for Spec_Suffix ("Ada") use ".ads";
     for Body_Suffix ("Ada") use ".adb";

     for Spec_Suffix ("C") use ".h";
     for Body_Suffix ("C") use ".c";

     for Dot_Replacement use "-";
  end Naming;

  for Archive_Builder use ("ar", "crD");

  package Compiler is
     for Driver ("Ada") use "gcc";
     for Driver ("C") use "gcc";

     for Dependency_Driver ("C") use ("gcc", "-E", "-Wp,-M", "");

     for Required_Switches ("Ada") use ("-c", "-x", "ada", "-gnatA");
     for Mapping_File_Switches ("Ada") use ("-gnatem=");

     for Leading_Required_Switches ("C") use ("-c");
     for Object_File_Suffix ("C") use ".o";
     for Dependency_Switches ("C") use ("-MMD","-MF","");
     for Include_Switches ("C") use ("-I");
  end Compiler;

  package Binder is
   for Driver ("Ada") use "/usr/lib/gprbind";

   for Objects_Path ("Ada") use "ADA_OBJECTS_PATH";
   for Objects_Path_File ("Ada") use "ADA_PRJ_OBJECTS_FILE";
  end Binder;

  package Linker is
     for Driver use "gcc";
     for Map_File_Option use "-Wl,-Map,";
  end Linker;
end GCC;
